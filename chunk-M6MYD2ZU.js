import{a as A,b as F,c as W,d as j,g as z,h as R,i as $,m as G,n as L,o as U,q as H,r as q,s as J}from"./chunk-EM5BLX4G.js";import"./chunk-3NQUQIW7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-W4VTKIUY.js";import"./chunk-5BSEO26T.js";import"./chunk-ZPTY7LCX.js";import"./chunk-NB7XNMGL.js";import"./chunk-KKEA56EG.js";import"./chunk-J3TLFAUC.js";import"./chunk-7FY2OE2O.js";import"./chunk-7QALC2HZ.js";import"./chunk-XWKALAOB.js";import"./chunk-6MG3K7H2.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-N43G2A7C.js";import"./chunk-CKP3SGE2.js";import"./chunk-WAYVPWKX.js";import{$ as b,C as y,F as f,G as r,H as a,I as h,O as I,P as u,Pa as V,Q as l,Qa as B,Ta as D,X as E,Z as M,_ as P,a as C,e as x,ea as k,f as v,ga as N,ia as S,ka as T,n as s,o as d,u as p,w as g,y as w}from"./chunk-UOD5MLJK.js";import"./chunk-LJSFQLFK.js";import"./chunk-YAB3BLXJ.js";import"./chunk-ITRQULCE.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-E2PI57JI.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as O,e as m}from"./chunk-JHI3MBHO.js";function K(c,o){if(c&1){let i=I();r(0,"div",7)(1,"ion-input",8),b("ngModelChange",function(t){s(i);let e=l();return P(e.note.title,t)||(e.note.title=t),d(t)}),u("ionChange",function(){s(i);let t=l();return d(t.onContentChange())}),a(),r(2,"ion-textarea",9),b("ngModelChange",function(t){s(i);let e=l();return P(e.note.content,t)||(e.note.content=t),d(t)}),u("ionChange",function(){s(i);let t=l();return d(t.onContentChange())}),a()()}if(c&2){let i=l();p(),M("ngModel",i.note.title),p(),M("ngModel",i.note.content),f("autoGrow",!0)}}var at=(()=>{let o=class o{constructor(n,t,e,_){this.route=n,this.router=t,this.noteService=e,this.toastController=_,this.note=null,this.destroy$=new C,this.contentChange$=new C}ngOnInit(){let n=this.route.snapshot.paramMap.get("id");if(n){let t=this.noteService.getNoteById(n);t?this.note=O({},t):this.router.navigate(["/note-list"])}this.contentChange$.pipe(x(2e3),v(this.destroy$)).subscribe(()=>this.saveNote())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onContentChange(){this.contentChange$.next()}saveNote(){return m(this,null,function*(){this.note&&(yield this.noteService.updateNote(this.note.id,{title:this.note.title,content:this.note.content}))})}saveAndExit(){return m(this,null,function*(){yield this.saveNote(),yield(yield this.toastController.create({message:"\u041D\u043E\u0442\u0430\u0442\u043A\u0443 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u043E",duration:2e3,position:"bottom"})).present(),this.router.navigate(["/note-list"])})}goBack(){this.router.navigate(["/note-list"])}};o.\u0275fac=function(t){return new(t||o)(g(S),g(T),g(J),g(H))},o.\u0275cmp=w({type:o,selectors:[["app-note-editor"]],decls:12,vars:1,consts:[["color","primary"],["slot","start"],[3,"click"],["name","arrow-back"],["slot","end"],["name","checkmark"],["class","editor-container",4,"ngIf"],[1,"editor-container"],["placeholder","\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u043D\u043E\u0442\u0430\u0442\u043A\u0438",1,"title-input",3,"ngModelChange","ionChange","ngModel"],["placeholder","\u041F\u043E\u0447\u043D\u0456\u0442\u044C \u043F\u0438\u0441\u0430\u0442\u0438...","rows","20",1,"content-textarea",3,"ngModelChange","ionChange","ngModel","autoGrow"]],template:function(t,e){t&1&&(r(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),u("click",function(){return e.goBack()}),h(4,"ion-icon",3),a()(),r(5,"ion-title"),E(6,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F"),a(),r(7,"ion-buttons",4)(8,"ion-button",2),u("click",function(){return e.saveAndExit()}),h(9,"ion-icon",5),a()()()(),r(10,"ion-content"),y(11,K,3,3,"div",6),a()),t&2&&(p(11),f("ngIf",e.note))},dependencies:[N,k,D,V,B,q,F,W,j,z,R,$,G,L,U,A],styles:["ion-content[_ngcontent-%COMP%]{--background: #000000}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #ff9500;--color: #000000;border-bottom:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;color:#000}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #000000}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;font-size:24px}.editor-container[_ngcontent-%COMP%]{padding:16px;height:100%;background:#000}.editor-container[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:16px;--padding-start: 0;--padding-bottom: 12px;--color: #ffffff;--placeholder-color: #666666;--placeholder-opacity: 1;border-bottom:2px solid #2a2a2a}.editor-container[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]::part(native){padding:0;color:#fff!important}.editor-container[_ngcontent-%COMP%]   .content-textarea[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:1.05rem;line-height:1.7;--padding-start: 0;--padding-end: 0;--padding-top: 8px;--padding-bottom: 0;--color: #e6e6e6;--placeholder-color: #666666;--placeholder-opacity: 1}.editor-container[_ngcontent-%COMP%]   .content-textarea[_ngcontent-%COMP%]::part(native){padding:0;color:#e6e6e6!important}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #1a1a1a;border-top:1px solid #2a2a2a;padding:8px 0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;font-weight:500;--color: #ffffff}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]{--background: #ff9500;--background-hover: #e08400;--color: #000000;margin-right:12px;font-weight:600}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[color=primary][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000}"]});let c=o;return c})();export{at as NoteEditorPage};
