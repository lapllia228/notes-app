import{b as I,d as N,e as S,f as E,g as T,h as z,j as D,k as F,l as L,n as V,o as A,p as j,q as $,r as B,s as U}from"./chunk-EM5BLX4G.js";import"./chunk-3NQUQIW7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-W4VTKIUY.js";import"./chunk-5BSEO26T.js";import"./chunk-ZPTY7LCX.js";import"./chunk-NB7XNMGL.js";import"./chunk-KKEA56EG.js";import"./chunk-J3TLFAUC.js";import"./chunk-7FY2OE2O.js";import"./chunk-7QALC2HZ.js";import"./chunk-XWKALAOB.js";import"./chunk-6MG3K7H2.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-N43G2A7C.js";import"./chunk-CKP3SGE2.js";import"./chunk-WAYVPWKX.js";import{C as h,F as _,G as n,H as r,I as m,O as P,P as f,Q as g,Ta as y,X as s,Y as C,da as O,ea as v,ga as w,ka as k,n as b,o as x,u as d,w as p,y as M}from"./chunk-UOD5MLJK.js";import"./chunk-LJSFQLFK.js";import"./chunk-YAB3BLXJ.js";import"./chunk-ITRQULCE.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-E2PI57JI.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as u}from"./chunk-JHI3MBHO.js";function H(i,a){if(i&1){let c=P();n(0,"div",7),m(1,"ion-icon",8),n(2,"h2"),s(3,"\u041D\u0435\u043C\u0430\u0454 \u043D\u043E\u0442\u0430\u0442\u043E\u043A"),r(),n(4,"p"),s(5,"\u0421\u0442\u0432\u043E\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0443 \u043D\u043E\u0442\u0430\u0442\u043A\u0443"),r(),n(6,"ion-button",9),f("click",function(){b(c);let e=g();return x(e.createNote())}),m(7,"ion-icon",10),s(8," \u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043D\u043E\u0442\u0430\u0442\u043A\u0443 "),r()()}}function R(i,a){if(i&1){let c=P();n(0,"ion-item",12),f("click",function(){let e=b(c).$implicit,o=g(2);return x(o.openNote(e))}),n(1,"ion-label")(2,"h2"),s(3),r(),n(4,"p"),s(5),r(),n(6,"p",13),s(7),r()(),n(8,"ion-button",14),f("click",function(e){let o=b(c).$implicit,l=g(2);return x(l.deleteNote(o,e))}),m(9,"ion-icon",15),r()()}if(i&2){let c=a.$implicit,t=g(2);_("button",!0),d(3),C(c.title),d(2),C(t.getPreview(c)),d(2),C(t.formatDate(c.updatedAt))}}function q(i,a){if(i&1&&(n(0,"ion-list"),h(1,R,10,4,"ion-item",11),r()),i&2){let c=g();d(),_("ngForOf",c.notes)}}var tt=(()=>{let a=class a{constructor(t,e,o,l){this.noteService=t,this.router=e,this.alertController=o,this.toastController=l,this.notes=[]}ngOnInit(){this.noteService.getNotes().subscribe(t=>{this.notes=t})}createNote(){return u(this,null,function*(){let t=yield this.noteService.createNote();this.router.navigate(["/note-editor",t.id])})}openNote(t){this.router.navigate(["/note-editor",t.id])}deleteNote(t,e){return u(this,null,function*(){e.stopPropagation(),yield(yield this.alertController.create({header:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043D\u043E\u0442\u0430\u0442\u043A\u0443?",message:`"${t.title}" \u0431\u0443\u0434\u0435 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043E \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438.`,buttons:[{text:"\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",role:"cancel"},{text:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",role:"destructive",handler:()=>u(this,null,function*(){yield this.noteService.deleteNote(t.id),this.showToast("\u041D\u043E\u0442\u0430\u0442\u043A\u0443 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043E")})}]})).present()})}formatDate(t){let o=new Date().getTime()-t.getTime(),l=Math.floor(o/(1e3*60*60));return l<1?"\u0449\u043E\u0439\u043D\u043E":l<24?`${l} \u0433\u043E\u0434 \u0442\u043E\u043C\u0443`:t.toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit",year:"numeric"})}getPreview(t){let e=t.content.trim();return e.length>100?e.substring(0,100)+"...":e}showToast(t){return u(this,null,function*(){yield(yield this.toastController.create({message:t,duration:2e3,position:"bottom"})).present()})}};a.\u0275fac=function(e){return new(e||a)(p(U),p(k),p(j),p($))},a.\u0275cmp=M({type:a,selectors:[["app-note-list"]],decls:12,vars:2,consts:[[2,"display","flex","align-items","center","gap","10px"],["name","document-text"],["class","empty-state",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[1,"empty-state"],["name","document-text-outline","size","large"],["expand","block",3,"click"],["slot","start","name","add"],["detail","false",3,"button","click",4,"ngFor","ngForOf"],["detail","false",3,"click","button"],[1,"note-date"],["fill","clear","slot","end","color","danger",3,"click"],["name","trash"]],template:function(e,o){e&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"div",0),m(4,"ion-icon",1),s(5," \u041C\u043E\u0457 \u043D\u043E\u0442\u0430\u0442\u043A\u0438 "),r()()()(),n(6,"ion-content"),h(7,H,9,0,"div",2)(8,q,2,1,"ion-list",3),n(9,"ion-fab",4)(10,"ion-fab-button",5),f("click",function(){return o.createNote()}),m(11,"ion-icon",6),r()()()),e&2&&(d(7),_("ngIf",o.notes.length===0),d(),_("ngIf",o.notes.length>0))},dependencies:[w,O,v,B,I,N,S,E,T,z,D,F,L,V,A,y],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #000000}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #ff9500;--color: #000000;border-bottom:none}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700;color:#000}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;font-size:26px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:96px;color:#ff9500;opacity:.3;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:1rem;margin-bottom:2rem}.empty-state[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #ff9500;--background-hover: #e08400;--color: #000000;--border-radius: 12px;font-weight:600;height:48px;--padding-start: 24px;--padding-end: 24px}ion-list[_ngcontent-%COMP%]{padding:12px;background:transparent}ion-item[_ngcontent-%COMP%]{--border-radius: 12px;--background: #1a1a1a;--padding-start: 20px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;--inner-padding-end: 0px;--border-width: 0px;--border-color: transparent;margin-bottom:12px;box-shadow:0 2px 8px #0000004d;border:none}ion-item[_ngcontent-%COMP%]::part(native){border-radius:12px;border:none}ion-item[_ngcontent-%COMP%]:active{transform:scale(.98);transition:transform .1s;--background: #262626}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700;color:#fff;margin-bottom:8px;line-height:1.3}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:.95rem;line-height:1.5;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .note-date[_ngcontent-%COMP%]{font-size:.85rem;color:#ff9500;font-weight:600;display:flex;align-items:center;gap:4px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .note-date[_ngcontent-%COMP%]:before{content:"\\1f550";font-size:.85rem}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #f44336;--padding-start: 12px;--padding-end: 12px;margin-left:8px}ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}ion-fab-button[_ngcontent-%COMP%]{--background: #ff9500;--background-hover: #e08400;--background-activated: #e08400;--color: #000000;--border-radius: 16px;--box-shadow: 0 6px 20px rgba(255, 149, 0, .5);width:60px;height:60px}ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;font-weight:700}']});let i=a;return i})();export{tt as NoteListPage};
